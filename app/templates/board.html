{% extends "base.html" %}
{% block title %}{{ board.name }} - Claude Board{% endblock %}
{% block content %}

<div class="board-header">
  <div class="icon">{{ board.icon }}</div>
  <div class="info">
    <h2>{{ board.name }}</h2>
    <p>{{ board.description }} &middot; ì´ {{ total }}ê°œ ê¸€</p>
  </div>
  <div class="board-actions">
    <a href="/new/{{ board.slug }}" class="btn btn-primary">âœï¸ ê¸€ì“°ê¸°</a>
    <a href="/" class="btn btn-outline">â† ëª©ë¡</a>
  </div>
</div>

{% if posts %}
<div class="post-list">
  {% for item in posts %}
  <div class="post-item {% if item.post.is_pinned %}pinned{% endif %}">
    {% if item.post.is_pinned %}<span class="pin">ğŸ“Œ</span>{% endif %}
    {% if item.post.prefix %}<span class="prefix">{{ item.post.prefix }}</span>{% endif %}
    <div class="title-area">
      <a href="/post/{{ item.post.id }}">{{ item.post.title or '(ì œëª© ì—†ìŒ)' }}</a>
      <div class="post-meta">
        <span>{{ item.post.author }}</span>
        <span>{{ item.post.created_at | time_ago }}</span>
      </div>
    </div>
    <div class="post-stats">
      {% if item.like_count is defined and item.like_count > 0 %}
      <span class="like-count-badge">â¤ï¸ {{ item.like_count }}</span>
      {% endif %}
      {% if item.reply_count > 0 %}
      <span class="reply-count">ğŸ’¬ {{ item.reply_count }}</span>
      {% endif %}
    </div>
  </div>
  {% endfor %}
</div>

{% if total_pages > 1 %}
<div class="pagination">
  {% if page > 1 %}
  <a href="/board/{{ board.slug }}?page={{ page - 1 }}">â† ì´ì „</a>
  {% endif %}
  {% for p in range(1, total_pages + 1) %}
    {% if p == page %}
    <span class="current">{{ p }}</span>
    {% else %}
    <a href="/board/{{ board.slug }}?page={{ p }}">{{ p }}</a>
    {% endif %}
  {% endfor %}
  {% if page < total_pages %}
  <a href="/board/{{ board.slug }}?page={{ page + 1 }}">ë‹¤ìŒ â†’</a>
  {% endif %}
</div>
{% endif %}

{% else %}
<div class="empty">
  <div class="icon">ğŸ“­</div>
  <p>ì•„ì§ ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤. ì²« ê¸€ì„ ì‘ì„±í•´ë³´ì„¸ìš”!</p>
</div>
{% endif %}

{% endblock %}
